# Example Bridge Configuration
# Note: consider reserving a bridge payload stream ID range (e.g., 50000-59999)
# to avoid collisions with local IPC/control streams.

[bridge]
instance_id = "bridge-01"
payload_channel = "aeron:udp?endpoint=239.1.1.1:40456"
payload_stream_id = 3000
control_channel = "aeron:udp?endpoint=239.1.1.1:40457"
control_stream_id = 3001
# metadata_channel carries DataSourceAnnounce/DataSourceMeta between hosts.
metadata_channel = "aeron:udp?endpoint=239.1.1.1:40458"
metadata_stream_id = 3002
source_metadata_stream_id = 1300
# control_channel carries forwarded ShmPoolAnnounce and optional QoS.
mtu_bytes = 1408
chunk_bytes = 1200
max_chunk_bytes = 65535
max_payload_bytes = 1073741824
assembly_timeout_ms = 250
forward_metadata = true
forward_qos = false
forward_progress = false
source_qos_stream_id = 1200
dest_qos_stream_id = 2200

[[mappings]]
source_stream_id = 1001
dest_stream_id = 2001
profile = "processed_profile"
metadata_stream_id = 2001

[[mappings]]
source_stream_id = 1002
dest_stream_id = 2002
profile = "processed_profile"
metadata_stream_id = 2002

# Bidirectional example: add reverse mappings to the same bridge instance
[[mappings]]
source_stream_id = 1101
dest_stream_id = 2101
profile = "processed_profile"
metadata_stream_id = 2101

[[mappings]]
source_stream_id = 1102
dest_stream_id = 2102
profile = "processed_profile"
metadata_stream_id = 2102
